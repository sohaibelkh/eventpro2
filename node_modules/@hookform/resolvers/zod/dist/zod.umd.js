!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@hookform/resolvers"),require("react-hook-form")):"function"==typeof define&&define.amd?define(["exports","@hookform/resolvers","react-hook-form"],r):r((e||self).hookformResolversZod={},e.hookformResolvers,e.ReactHookForm)}(this,function(e,r,n){function o(e,r,n){function o(n,o){var t;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(t=n._zod).traits??(t.traits=new Set),n._zod.traits.add(e),r(n,o);for(const e in i.prototype)e in n||Object.defineProperty(n,e,{value:i.prototype[e].bind(n)});n._zod.constr=i,n._zod.def=o}const t=n?.Parent??Object;class s extends t{}function i(e){var r;const t=n?.Parent?new s:this;o(t,e),(r=t._zod).deferred??(r.deferred=[]);for(const e of t._zod.deferred)e();return t}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(i,"init",{value:o}),Object.defineProperty(i,Symbol.hasInstance,{value:r=>!!(n?.Parent&&r instanceof n.Parent)||r?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class t extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const s={};function i(e){return e&&Object.assign(s,e),s}function a(e,r){return"bigint"==typeof r?r.toString():r}function u(e){return"string"==typeof e?e:e?.message}function c(e,r,n){const o={...e,path:e.path??[]};if(!e.message){const t=u(e.inst?._zod.def?.error?.(e))??u(r?.error?.(e))??u(n.customError?.(e))??u(n.localeError?.(e))??"Invalid input";o.message=t}return delete o.inst,delete o.continue,r?.reportInput||delete o.input,o}const f=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(r,a,2),enumerable:!0})},d=o("$ZodError",f),l=o("$ZodError",f,{Parent:Error}),p=/* @__PURE__*/(e=>(r,n,o,s)=>{const a=o?Object.assign(o,{async:!1}):{async:!1},u=r._zod.run({value:n,issues:[]},a);if(u instanceof Promise)throw new t;if(u.issues.length){const r=new(s?.Err??e)(u.issues.map(e=>c(e,a,i())));throw Error.captureStackTrace(r,s?.callee),r}return u.value})(l),v=/* @__PURE__*/(e=>async(r,n,o,t)=>{const s=o?Object.assign(o,{async:!0}):{async:!0};let a=r._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const r=new(t?.Err??e)(a.issues.map(e=>c(e,s,i())));throw Error.captureStackTrace(r,t?.callee),r}return a.value})(l);function m(e,r){try{var n=e()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}function h(e,r){for(var o={};e.length;){var t=e[0],s=t.code,i=t.message,a=t.path.join(".");if(!o[a])if("unionErrors"in t){var u=t.unionErrors[0].errors[0];o[a]={message:u.message,type:u.code}}else o[a]={message:i,type:s};if("unionErrors"in t&&t.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var c=o[a].types,f=c&&c[t.code];o[a]=n.appendErrors(a,r,o,s,f?[].concat(f,t.message):t.message)}e.shift()}return o}function y(e,r){for(var o={};e.length;){var t=e[0],s=t.code,i=t.message,a=t.path.join(".");if(!o[a])if("invalid_union"===t.code){var u=t.errors[0][0];o[a]={message:u.message,type:u.code}}else o[a]={message:i,type:s};if("invalid_union"===t.code&&t.errors.forEach(function(r){return r.forEach(function(r){return e.push(r)})}),r){var c=o[a].types,f=c&&c[t.code];o[a]=n.appendErrors(a,r,o,s,f?[].concat(f,t.message):t.message)}e.shift()}return o}e.zodResolver=function(e,n,o){if(void 0===o&&(o={}),function(e){return"_def"in e&&"object"==typeof e._def&&"typeName"in e._def}(e))return function(t,s,i){try{return Promise.resolve(m(function(){return Promise.resolve(e["sync"===o.mode?"parse":"parseAsync"](t,n)).then(function(e){return i.shouldUseNativeValidation&&r.validateFieldsNatively({},i),{errors:{},values:o.raw?Object.assign({},t):e}})},function(e){if(function(e){return Array.isArray(null==e?void 0:e.issues)}(e))return{values:{},errors:r.toNestErrors(h(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(t,s,i){try{return Promise.resolve(m(function(){return Promise.resolve(("sync"===o.mode?p:v)(e,t,n)).then(function(e){return i.shouldUseNativeValidation&&r.validateFieldsNatively({},i),{errors:{},values:o.raw?Object.assign({},t):e}})},function(e){if(function(e){return e instanceof d}(e))return{values:{},errors:r.toNestErrors(y(e.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};throw new Error("Invalid input: not a Zod schema")}});
//# sourceMappingURL=zod.umd.js.map
