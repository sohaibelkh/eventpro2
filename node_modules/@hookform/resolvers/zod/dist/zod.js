var e=require("@hookform/resolvers"),r=require("react-hook-form");function n(e,r,n){function t(n,t){var o;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(o=n._zod).traits??(o.traits=new Set),n._zod.traits.add(e),r(n,t);for(const e in i.prototype)e in n||Object.defineProperty(n,e,{value:i.prototype[e].bind(n)});n._zod.constr=i,n._zod.def=t}const o=n?.Parent??Object;class s extends o{}function i(e){var r;const o=n?.Parent?new s:this;t(o,e),(r=o._zod).deferred??(r.deferred=[]);for(const e of o._zod.deferred)e();return o}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(i,"init",{value:t}),Object.defineProperty(i,Symbol.hasInstance,{value:r=>!!(n?.Parent&&r instanceof n.Parent)||r?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class t extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const o={};function s(e){return e&&Object.assign(o,e),o}function i(e,r){return"bigint"==typeof r?r.toString():r}function a(e){return"string"==typeof e?e:e?.message}function u(e,r,n){const t={...e,path:e.path??[]};if(!e.message){const o=a(e.inst?._zod.def?.error?.(e))??a(r?.error?.(e))??a(n.customError?.(e))??a(n.localeError?.(e))??"Invalid input";t.message=o}return delete t.inst,delete t.continue,r?.reportInput||delete t.input,t}const c=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(r,i,2),enumerable:!0})},d=n("$ZodError",c),f=n("$ZodError",c,{Parent:Error}),l=/* @__PURE__*/(e=>(r,n,o,i)=>{const a=o?Object.assign(o,{async:!1}):{async:!1},c=r._zod.run({value:n,issues:[]},a);if(c instanceof Promise)throw new t;if(c.issues.length){const r=new(i?.Err??e)(c.issues.map(e=>u(e,a,s())));throw Error.captureStackTrace(r,i?.callee),r}return c.value})(f),p=/* @__PURE__*/(e=>async(r,n,t,o)=>{const i=t?Object.assign(t,{async:!0}):{async:!0};let a=r._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const r=new(o?.Err??e)(a.issues.map(e=>u(e,i,s())));throw Error.captureStackTrace(r,o?.callee),r}return a.value})(f);function v(e,r){try{var n=e()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}function m(e,n){for(var t={};e.length;){var o=e[0],s=o.code,i=o.message,a=o.path.join(".");if(!t[a])if("unionErrors"in o){var u=o.unionErrors[0].errors[0];t[a]={message:u.message,type:u.code}}else t[a]={message:i,type:s};if("unionErrors"in o&&o.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),n){var c=t[a].types,d=c&&c[o.code];t[a]=r.appendErrors(a,n,t,s,d?[].concat(d,o.message):o.message)}e.shift()}return t}function y(e,n){for(var t={};e.length;){var o=e[0],s=o.code,i=o.message,a=o.path.join(".");if(!t[a])if("invalid_union"===o.code){var u=o.errors[0][0];t[a]={message:u.message,type:u.code}}else t[a]={message:i,type:s};if("invalid_union"===o.code&&o.errors.forEach(function(r){return r.forEach(function(r){return e.push(r)})}),n){var c=t[a].types,d=c&&c[o.code];t[a]=r.appendErrors(a,n,t,s,d?[].concat(d,o.message):o.message)}e.shift()}return t}exports.zodResolver=function(r,n,t){if(void 0===t&&(t={}),function(e){return"_def"in e&&"object"==typeof e._def&&"typeName"in e._def}(r))return function(o,s,i){try{return Promise.resolve(v(function(){return Promise.resolve(r["sync"===t.mode?"parse":"parseAsync"](o,n)).then(function(r){return i.shouldUseNativeValidation&&e.validateFieldsNatively({},i),{errors:{},values:t.raw?Object.assign({},o):r}})},function(r){if(function(e){return Array.isArray(null==e?void 0:e.issues)}(r))return{values:{},errors:e.toNestErrors(m(r.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw r}))}catch(e){return Promise.reject(e)}};if(function(e){return"_zod"in e&&"object"==typeof e._zod}(r))return function(o,s,i){try{return Promise.resolve(v(function(){return Promise.resolve(("sync"===t.mode?l:p)(r,o,n)).then(function(r){return i.shouldUseNativeValidation&&e.validateFieldsNatively({},i),{errors:{},values:t.raw?Object.assign({},o):r}})},function(r){if(function(e){return e instanceof d}(r))return{values:{},errors:e.toNestErrors(y(r.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw r}))}catch(e){return Promise.reject(e)}};throw new Error("Invalid input: not a Zod schema")};
//# sourceMappingURL=zod.js.map
