import{validateFieldsNatively as e,toNestErrors as r}from"@hookform/resolvers";import{appendErrors as n}from"react-hook-form";function t(e,r,n){function t(n,t){var o;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(o=n._zod).traits??(o.traits=new Set),n._zod.traits.add(e),r(n,t);for(const e in i.prototype)e in n||Object.defineProperty(n,e,{value:i.prototype[e].bind(n)});n._zod.constr=i,n._zod.def=t}const o=n?.Parent??Object;class s extends o{}function i(e){var r;const o=n?.Parent?new s:this;t(o,e),(r=o._zod).deferred??(r.deferred=[]);for(const e of o._zod.deferred)e();return o}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(i,"init",{value:t}),Object.defineProperty(i,Symbol.hasInstance,{value:r=>!!(n?.Parent&&r instanceof n.Parent)||r?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class o extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const s={};function i(e){return e&&Object.assign(s,e),s}function a(e,r){return"bigint"==typeof r?r.toString():r}function c(e){return"string"==typeof e?e:e?.message}function u(e,r,n){const t={...e,path:e.path??[]};if(!e.message){const o=c(e.inst?._zod.def?.error?.(e))??c(r?.error?.(e))??c(n.customError?.(e))??c(n.localeError?.(e))??"Invalid input";t.message=o}return delete t.inst,delete t.continue,r?.reportInput||delete t.input,t}const f=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(r,a,2),enumerable:!0})},d=t("$ZodError",f),l=t("$ZodError",f,{Parent:Error}),p=/* @__PURE__*/(e=>(r,n,t,s)=>{const a=t?Object.assign(t,{async:!1}):{async:!1},c=r._zod.run({value:n,issues:[]},a);if(c instanceof Promise)throw new o;if(c.issues.length){const r=new(s?.Err??e)(c.issues.map(e=>u(e,a,i())));throw Error.captureStackTrace(r,s?.callee),r}return c.value})(l),m=/* @__PURE__*/(e=>async(r,n,t,o)=>{const s=t?Object.assign(t,{async:!0}):{async:!0};let a=r._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const r=new(o?.Err??e)(a.issues.map(e=>u(e,s,i())));throw Error.captureStackTrace(r,o?.callee),r}return a.value})(l);function v(e,r){try{var n=e()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}function h(e,r){for(var t={};e.length;){var o=e[0],s=o.code,i=o.message,a=o.path.join(".");if(!t[a])if("unionErrors"in o){var c=o.unionErrors[0].errors[0];t[a]={message:c.message,type:c.code}}else t[a]={message:i,type:s};if("unionErrors"in o&&o.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var u=t[a].types,f=u&&u[o.code];t[a]=n(a,r,t,s,f?[].concat(f,o.message):o.message)}e.shift()}return t}function y(e,r){for(var t={};e.length;){var o=e[0],s=o.code,i=o.message,a=o.path.join(".");if(!t[a])if("invalid_union"===o.code){var c=o.errors[0][0];t[a]={message:c.message,type:c.code}}else t[a]={message:i,type:s};if("invalid_union"===o.code&&o.errors.forEach(function(r){return r.forEach(function(r){return e.push(r)})}),r){var u=t[a].types,f=u&&u[o.code];t[a]=n(a,r,t,s,f?[].concat(f,o.message):o.message)}e.shift()}return t}function g(n,t,o){if(void 0===o&&(o={}),function(e){return"_def"in e&&"object"==typeof e._def&&"typeName"in e._def}(n))return function(s,i,a){try{return Promise.resolve(v(function(){return Promise.resolve(n["sync"===o.mode?"parse":"parseAsync"](s,t)).then(function(r){return a.shouldUseNativeValidation&&e({},a),{errors:{},values:o.raw?Object.assign({},s):r}})},function(e){if(function(e){return Array.isArray(null==e?void 0:e.issues)}(e))return{values:{},errors:r(h(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e}))}catch(e){return Promise.reject(e)}};if(function(e){return"_zod"in e&&"object"==typeof e._zod}(n))return function(s,i,a){try{return Promise.resolve(v(function(){return Promise.resolve(("sync"===o.mode?p:m)(n,s,t)).then(function(r){return a.shouldUseNativeValidation&&e({},a),{errors:{},values:o.raw?Object.assign({},s):r}})},function(e){if(function(e){return e instanceof d}(e))return{values:{},errors:r(y(e.issues,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e}))}catch(e){return Promise.reject(e)}};throw new Error("Invalid input: not a Zod schema")}export{g as zodResolver};
//# sourceMappingURL=zod.module.js.map
